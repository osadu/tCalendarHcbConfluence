(this.webpackJsonpeventcalendar=this.webpackJsonpeventcalendar||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"en":{"schedule":{"day":"\u0414\u0435\u043d\u044c","week":"\u041d\u0435\u0434\u0435\u043b\u044f","workWeek":"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f","month":"\u041c\u0435\u0441\u044f\u0446","agenda":"\u041f\u043e\u0432\u0435\u0441\u0442\u043a\u0430","weekAgenda":"\u041f\u043e\u0432\u0435\u0441\u0442\u043a\u0430 \u043d\u0435\u0434\u0435\u043b\u0438","workWeekAgenda":"\u041f\u043e\u0432\u0435\u0441\u0442\u043a\u0430 \u0440\u0430\u0431\u043e\u0447\u0435\u0439 \u043d\u0435\u0434\u0435\u043b\u0438","monthAgenda":"\u041f\u043e\u0432\u0435\u0441\u0442\u043a\u0430 \u043c\u0435\u0441\u044f\u0446\u0430","today":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f","noEvents":"\u041d\u0435\u0442\u0443 \u0441\u043e\u0431\u044b\u0442\u0438\u0438","emptyContainer":"There are no events scheduled on this day.","allDay":"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c","start":"\u041d\u0430\u0447\u0430\u043b\u043e","end":"\u041a\u043e\u043d\u0435\u0446","more":"\u0415\u0449\u0435","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","noTitle":"(\u041d\u0435\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438)","delete":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","deleteEvent":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435","deleteMultipleEvent":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0438","selectedItems":"Items selected","deleteSeries":"Delete Series","edit":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","editSeries":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u044e","editEvent":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435","createEvent":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c","subject":"Subject","addTitle":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0443","moreDetails":"\u0411\u043e\u043b\u044c\u0448\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u0439","save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","editContent":"Do you want to edit only this event or entire series?","deleteRecurrenceContent":"Do you want to delete only this event or entire series?","deleteContent":"Are you sure you want to delete this event?","deleteMultipleContent":"Are you sure you want to delete the selected events?","newEvent":"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","location":"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","timezone":"Timezone","startTimezone":"Start Timezone","endTimezone":"End Timezone","repeat":"\u041f\u043e\u0432\u0442\u043e\u0440","saveButton":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","cancelButton":"\u041e\u0442\u043c\u0435\u043d\u0430","deleteButton":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","recurrence":"Recurrence","wrongPattern":"The recurrence pattern is not valid.","seriesChangeAlert":"The changes made to specific instances of this series will be cancelled and those events will match the series again.","createError":"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.","recurrenceDateValidation":"Some months have fewer than the selected date. For these months, the occurrence will fall on the last date of the month.","sameDayAlert":"Two occurrences of the same event cannot occur on the same day.","editRecurrence":"Edit Recurrence","repeats":"Repeats","alert":"Alert","startEndError":"The selected end date occurs before the start date.","invalidDateError":"The entered date value is invalid.","ok":"Ok","occurrence":"Occurrence","series":"Series","previous":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","next":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","timelineDay":"Timeline Day","timelineWeek":"Timeline Week","timelineWorkWeek":"Timeline Work Week","timelineMonth":"Timeline Month"},"recurrenceeditor":{"none":"None","daily":"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e","weekly":"\u0415\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e","monthly":"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e","month":"\u041c\u0435\u0441\u044f\u0446","yearly":"\u0413\u043e\u0434\u043e\u0432\u043e\u0439","never":"\u041d\u0438\u043a\u043e\u0433\u0434\u0430","until":"\u0414\u043e","count":"Count","first":"\u041f\u0435\u0440\u0432\u044b\u0439","second":"\u0412\u0442\u043e\u0440\u043e\u0439","third":"\u0422\u0440\u0435\u0442\u0438\u0439","fourth":"\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u044b\u0439","last":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","repeat":"\u041f\u043e\u0432\u0442\u043e\u0440","repeatEvery":"Repeat Every","on":"Repeat On","end":"End","onDay":"\u0414\u0435\u043d\u044c","days":"\u0414\u043d\u0438","weeks":"Week(s)","months":"Month(s)","years":"Year(s)","every":"\u043a\u0430\u0436\u0434\u044b\u0439","summaryTimes":"time(s)","summaryOn":"on","summaryUntil":"until","summaryRepeat":"Repeats","summaryDay":"day(s)","summaryWeek":"week(s)","summaryMonth":"month(s)","summaryYear":"year(s)"},"calendar":{"today":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}}}')},46:function(e,t,a){e.exports=a(71)},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),o=a(12),s=a.n(o),l=(a(51),a(11)),c=a(38),i=a(39),d=a(43),m=a(41),u=(a(52),a(79)),E=a(27),v=a(75),h=a(76),f=a(77),p=a(78),g=a(80),N=a(0),b=a(40),y=a.t(b,2),C=function(e){var t=[{Id:1,Subject:"Meeting - 1",StartTime:new Date(2018,1,15,10,0),EndTime:new Date(2018,1,16,12,30),IsAllDay:!1,Status:"Done"}];return N.q.load(y),r.a.createElement(u.a,{height:"550px",width:"82%",selectedDate:new Date,eventSettings:{dataSource:t},currentView:"Month",readonly:!0,locale:"en",firstDayOfWeek:1},r.a.createElement(E.b,{services:[v.a,h.a,f.a,p.a,g.a]}))},w=a(42);a(53);function T(){return e="context-path",window.AJS.Meta.get(e);var e}function S(){return window.AJS}"undefined"==typeof window.AJS&&(window.AJS={Meta:{get:function(e){return"user-locale"===e?"en-US":e}}});var k=function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),o=a[0],s=a[1];return Object(n.useEffect)((function(){var t=S();e.events.length>0&&(o?t.$("#tCalendarDropDown"+e.events.length).dropDown("Standard"):t.$(document).ready((function(){t.$("#tCalendarDropDown").dropDown("Standard"),e.events.map((function(e,a){return t.$("#tCalendarDropDown"+(a+1)).dropDown("Standard"),null})),s(!0)})))}),[e.events]),r.a.createElement("div",{className:"tCalendarEvents"},r.a.createElement("div",{className:"tCalendarEventsTitle"},r.a.createElement("h4",null,r.a.createElement("b",null,"Deployment Plan")),r.a.createElement("ul",{id:"tCalendarDropDown",className:"styled-parent"},r.a.createElement("li",{className:"aui-dd-parent"},r.a.createElement("button",{className:"aui-button aui-dd-trigger",id:"dropdown-trigger"},r.a.createElement("img",{src:T()+"/download/resources/kz.hcb.tCalendarsHcbConfluence.tCalendarsHcbConfluence:tCalendarsHcbConluence-resources/images/tCalendarEventsMore.png",alt:""})),r.a.createElement("ul",{className:"aui-dropdown"},r.a.createElement("li",{className:"dropdown-item",onClick:e.addEvent},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"))))),r.a.createElement("ul",{className:"tCalendarEventsList"},e.events.map((function(t,a){return r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("img",{className:"jiraIssueImg",src:T()+"/download/resources/kz.hcb.tCalendarsHcbConfluence.tCalendarsHcbConfluence:tCalendarsHcbConluence-resources/images/tCalendarJiraIssue.png",alt:""}),t.eventName),r.a.createElement("ul",{id:"tCalendarDropDown"+(a+1),className:"styled-parent"},r.a.createElement("li",{className:"aui-dd-parent"},r.a.createElement("button",{className:"aui-button aui-dd-trigger",id:"dropdown-trigger"},r.a.createElement("img",{src:T()+"/download/resources/kz.hcb.tCalendarsHcbConfluence.tCalendarsHcbConfluence:tCalendarsHcbConluence-resources/images/tCalendarEventsMore.png",alt:""})),r.a.createElement("ul",{className:"aui-dropdown"},r.a.createElement("li",{className:"dropdown-item","data-id":t.id,"data-eventname":t.eventName,"data-filtername":t.filterName,onClick:e.updateEvent},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("li",{className:"dropdown-item","data-id":t.id,onClick:e.deleteEvent},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))}))))},D=a(20),M=a.n(D),F=T()+"/rest/tCalendarsHcbConfluence/1/",O=function(e,t){return M.a.post(F+"createEvent",{eventName:e,filterName:t}).then((function(e){return e.data}))},A=function(){return M.a.get(F+"getEvents").then((function(e){return e.data}))},j=function(e){return M.a.delete(F+"deleteEvent/"+e).then((function(e){return e.data}))},B=function(e,t,a){return M.a.put(F+"updateEvent",{id:e,eventName:t,filterName:a}).then((function(e){return e.data}))},H=function(e){return r.a.createElement("section",{id:"addUpdateEvent-dialog",className:"aui-dialog2 aui-dialog2-small aui-layer",role:"dialog","aria-hidden":"true"},r.a.createElement("header",{className:"aui-dialog2-header"},r.a.createElement("a",{href:"#",className:"aui-dialog2-header-close","aria-label":"close"},r.a.createElement("span",{className:"aui-icon aui-icon-small aui-iconfont-close-dialog"}))),r.a.createElement("div",{className:"aui-dialog2-content"},r.a.createElement("form",{className:"aui",onSubmit:e.formSubmit},r.a.createElement("div",{className:"field-group"},r.a.createElement("label",{htmlFor:"eventName"},"\u0418\u043c\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0438",r.a.createElement("span",{className:"aui-icon icon-required"},"(required)")),r.a.createElement("input",{className:"text medium-field",type:"text",id:"eventName",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0438",value:e.eventName,onChange:e.handleEventNameChange})),r.a.createElement("div",{className:"field-group"},r.a.createElement("label",{htmlFor:"filterName"},"\u0418\u043c\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",r.a.createElement("span",{className:"aui-icon icon-required"},"(required)")),r.a.createElement("input",{className:"text medium-field",type:"text",id:"filterName",placeholder:"\u0418\u043c\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",value:e.filterName,onChange:e.handleFilterNameChange})),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("div",{className:"buttons"},r.a.createElement("input",{className:"button submit",type:"submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",id:"comment-save-button"}))))),r.a.createElement("footer",{className:"aui-dialog2-footer"},r.a.createElement("div",{className:"aui-dialog2-footer-actions"},r.a.createElement("button",{id:"dialog-submit-button",className:"aui-button aui-button-primary",onClick:e.AddUpdateEventFormCloseButton},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))},x=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={events:[],calendarMainErrors:[],calendarModalFormErrors:[],successEvent:[],formEventId:"0",formEventName:"",formFilterName:""},e._getEvents=function(){A().then((function(t){e.setState({events:t.responseObject})})).catch((function(t){t.response.data.errorText&&e.setState({calendarMainErrors:[].concat(Object(l.a)(e.state.calendarMainErrors),[t.response.data.errorText])})}))},e._resetAddUpdateEventForm=function(){e.setState({formEventId:"0",formEventName:"",formFilterName:""})},e._closeModal=function(){e._resetAddUpdateEventForm(),S().dialog2("#addUpdateEvent-dialog").hide()},e.handleFormSubmit=function(t){t.preventDefault();var a=[];e.state.formEventName||(a=[].concat(Object(l.a)(a),["\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f \u0441\u043e\u0431\u0438\u0442\u0438\u0438"])),e.state.formFilterName||(a=[].concat(Object(l.a)(a),["\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430"])),a.length>0?e.setState({calendarModalFormErrors:a}):"0"===e.state.formEventId?O(e.state.formEventName,e.state.formFilterName).then((function(t){e.setState({successEvent:[].concat(Object(l.a)(e.state.successEvent),["\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"])}),e._closeModal(),e._getEvents()})).catch((function(t){t.response.data.errorText&&e.setState({calendarModalFormErrors:[].concat(Object(l.a)(e.state.calendarModalFormErrors),[t.response.data.errorText])})})):B(e.state.formEventId,e.state.formEventName,e.state.formFilterName).then((function(t){e.setState({successEvent:[].concat(Object(l.a)(e.state.successEvent),["\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"])}),e._closeModal(),e._getEvents()})).catch((function(t){t.response.data.errorText&&e.setState({calendarModalFormErrors:[].concat(Object(l.a)(e.state.calendarModalFormErrors),[t.response.data.errorText])})}))},e.handleDeleteEvent=function(t){j(t.currentTarget.dataset.id).then((function(t){e._getEvents(),e.setState({successEvent:[].concat(Object(l.a)(e.state.successEvent),["\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"])})})).catch((function(t){t.response.data.errorText&&e.setState({calendarMainErrors:[].concat(Object(l.a)(e.state.calendarMainErrors),[t.response.data.errorText])})}))},e.handleUpdateEvent=function(t){e.setState({formEventId:t.currentTarget.dataset.id,formEventName:t.currentTarget.dataset.eventname,formFilterName:t.currentTarget.dataset.filtername}),S().dialog2("#addUpdateEvent-dialog").show()},e.handleAddEvent=function(t){e._resetAddUpdateEventForm(),S().dialog2("#addUpdateEvent-dialog").show()},e.AddUpdateEventFormCloseButton=function(t){t.preventDefault(),e._closeModal()},e.handleEventNameChange=function(t){e.setState({formEventName:t.currentTarget.value})},e.handleFilterNameChange=function(t){e.setState({formFilterName:t.currentTarget.value})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this._getEvents()}},{key:"componentDidUpdate",value:function(){for(var e=document.getElementsByClassName("e-outer-table")[0].getElementsByClassName("e-schedule-table")[0].getElementsByClassName("e-header-cells"),t=0;t<e.length;t++)switch(t){case 0:e[t].getElementsByTagName("span")[0].innerHTML="\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a";break;case 1:e[t].getElementsByTagName("span")[0].innerHTML="\u0412\u0442\u043e\u0440\u043d\u0438\u043a";break;case 2:e[t].getElementsByTagName("span")[0].innerHTML="\u0421\u0440\u0435\u0434\u0430";break;case 3:e[t].getElementsByTagName("span")[0].innerHTML="\u0427\u0435\u0442\u0432\u0435\u0440\u0433";break;case 4:e[t].getElementsByTagName("span")[0].innerHTML="\u041f\u044f\u0442\u043d\u0438\u0446\u0430";break;case 5:e[t].getElementsByTagName("span")[0].innerHTML="\u0421\u0443\u0431\u0431\u043e\u0442\u0430";break;case 6:e[t].getElementsByTagName("span")[0].innerHTML="\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"}}},{key:"render",value:function(){var e=this.state,t=e.events,a=e.formEventId,n=e.formEventName,o=e.formFilterName;return r.a.createElement("div",{className:"tCalendarsHcbBody"},r.a.createElement(C,null),r.a.createElement(k,{events:t,addEvent:this.handleAddEvent,updateEvent:this.handleUpdateEvent,deleteEvent:this.handleDeleteEvent}),r.a.createElement("div",{className:"modals"},r.a.createElement(H,{id:a,eventName:n,filterName:o,handleEventNameChange:this.handleEventNameChange,handleFilterNameChange:this.handleFilterNameChange,AddUpdateEventFormCloseButton:this.AddUpdateEventFormCloseButton,formSubmit:this.handleFormSubmit})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.addEventListener("DOMContentLoaded",(function(e){s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("tCalendarsHcbConfluence"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);